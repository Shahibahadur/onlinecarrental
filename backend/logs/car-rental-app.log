2026-02-05T13:07:39.242Z  INFO 100011 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Starting OnlineCarRentalApplication using Java 21.0.9 with PID 100011 (/workspaces/onlinecarrental/backend/target/classes started by codespace in /workspaces/onlinecarrental/backend)
2026-02-05T13:07:39.245Z  INFO 100011 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : No active profile set, falling back to 1 default profile: "default"
2026-02-05T13:07:39.339Z  INFO 100011 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-05T13:07:39.340Z  INFO 100011 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-05T13:07:40.542Z  INFO 100011 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T13:07:40.544Z  INFO 100011 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-05T13:07:40.720Z  INFO 100011 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 168 ms. Found 8 JPA repository interfaces.
2026-02-05T13:07:40.741Z  INFO 100011 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T13:07:40.743Z  INFO 100011 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-02-05T13:07:40.760Z  INFO 100011 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.BookingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:07:40.761Z  INFO 100011 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ImageCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:07:40.761Z  INFO 100011 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PaymentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:07:40.762Z  INFO 100011 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PriceConfigRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:07:40.762Z  INFO 100011 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:07:40.762Z  INFO 100011 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:07:40.763Z  INFO 100011 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:07:40.763Z  INFO 100011 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:07:40.763Z  INFO 100011 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2026-02-05T13:07:41.485Z  INFO 100011 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-05T13:07:41.496Z  INFO 100011 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-05T13:07:41.496Z  INFO 100011 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-02-05T13:07:41.535Z  INFO 100011 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-05T13:07:41.535Z  INFO 100011 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2194 ms
2026-02-05T13:07:41.705Z  INFO 100011 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05T13:07:41.776Z  INFO 100011 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2026-02-05T13:07:41.808Z  INFO 100011 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-05T13:07:42.076Z  INFO 100011 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-05T13:07:42.097Z  INFO 100011 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-05T13:07:42.425Z  INFO 100011 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@179f35cd
2026-02-05T13:07:42.426Z  INFO 100011 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-05T13:07:42.483Z  WARN 100011 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05T13:07:43.658Z  INFO 100011 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05T13:07:43.756Z  INFO 100011 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T13:07:43.978Z  INFO 100011 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-05T13:07:45.692Z  INFO 100011 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T13:07:45.787Z DEBUG 100011 --- [restartedMain] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T13:07:45.820Z  INFO 100011 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T13:07:45.971Z  WARN 100011 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-05T13:07:46.779Z  INFO 100011 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-05T13:07:46.810Z  INFO 100011 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2026-02-05T13:07:46.825Z  INFO 100011 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Started OnlineCarRentalApplication in 8.102 seconds (process running for 8.562)
2026-02-05T13:07:46.841Z  INFO 100011 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T13:07:46.844Z DEBUG 100011 --- [scheduling-1] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T13:07:46.852Z  INFO 100011 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T13:13:30.612Z  INFO 100011 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-05T13:13:30.612Z  INFO 100011 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-05T13:13:30.613Z  INFO 100011 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-05T13:13:30.824Z  WARN 100011 --- [http-nio-8080-exec-2] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-02-05T13:13:30.961Z DEBUG 100011 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    limit
        ?
2026-02-05T13:13:31.083Z DEBUG 100011 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone, role, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05T13:13:31.864Z DEBUG 100011 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:13:31.889Z DEBUG 100011 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T13:13:31.902Z DEBUG 100011 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T13:13:37.658Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:13:37.678Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T13:13:37.697Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:13:37.725Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:13:37.729Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:13:37.732Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:13:37.734Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:13:37.736Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:13:37.738Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:13:37.740Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:16:11.867Z DEBUG 100011 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:16:11.888Z  WARN 100011 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Future' validating type 'java.lang.String'. Check configuration for 'endDate']
2026-02-05T13:16:14.087Z DEBUG 100011 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:16:14.093Z  WARN 100011 --- [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Future' validating type 'java.lang.String'. Check configuration for 'endDate']
2026-02-05T13:16:14.970Z DEBUG 100011 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:16:14.978Z  WARN 100011 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Future' validating type 'java.lang.String'. Check configuration for 'endDate']
2026-02-05T13:16:15.325Z DEBUG 100011 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:16:15.332Z  WARN 100011 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Future' validating type 'java.lang.String'. Check configuration for 'endDate']
2026-02-05T13:16:15.617Z DEBUG 100011 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:16:15.624Z  WARN 100011 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Future' validating type 'java.lang.String'. Check configuration for 'endDate']
2026-02-05T13:16:15.877Z DEBUG 100011 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:16:15.884Z  WARN 100011 --- [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Future' validating type 'java.lang.String'. Check configuration for 'endDate']
2026-02-05T13:34:52.207Z DEBUG 100011 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:34:52.215Z  WARN 100011 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Future' validating type 'java.lang.String'. Check configuration for 'endDate']
2026-02-05T13:34:53.357Z DEBUG 100011 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:34:53.365Z  WARN 100011 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Future' validating type 'java.lang.String'. Check configuration for 'endDate']
2026-02-05T13:35:51.658Z  INFO 100011 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T13:35:51.661Z  INFO 100011 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-05T13:35:51.668Z  INFO 100011 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-05T13:36:06.976Z  INFO 112336 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Starting OnlineCarRentalApplication using Java 21.0.9 with PID 112336 (/workspaces/onlinecarrental/backend/target/classes started by codespace in /workspaces/onlinecarrental/backend)
2026-02-05T13:36:06.978Z  INFO 112336 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : No active profile set, falling back to 1 default profile: "default"
2026-02-05T13:36:07.060Z  INFO 112336 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-05T13:36:07.061Z  INFO 112336 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-05T13:36:08.207Z  INFO 112336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T13:36:08.228Z  INFO 112336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-05T13:36:08.433Z  INFO 112336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 187 ms. Found 8 JPA repository interfaces.
2026-02-05T13:36:08.451Z  INFO 112336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T13:36:08.452Z  INFO 112336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-02-05T13:36:08.466Z  INFO 112336 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.BookingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:36:08.467Z  INFO 112336 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ImageCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:36:08.467Z  INFO 112336 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PaymentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:36:08.467Z  INFO 112336 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PriceConfigRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:36:08.468Z  INFO 112336 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:36:08.468Z  INFO 112336 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:36:08.469Z  INFO 112336 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:36:08.469Z  INFO 112336 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:36:08.469Z  INFO 112336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2026-02-05T13:36:09.086Z  INFO 112336 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-05T13:36:09.094Z  INFO 112336 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-05T13:36:09.095Z  INFO 112336 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-02-05T13:36:09.130Z  INFO 112336 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-05T13:36:09.131Z  INFO 112336 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2069 ms
2026-02-05T13:36:09.272Z  INFO 112336 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05T13:36:09.325Z  INFO 112336 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2026-02-05T13:36:09.352Z  INFO 112336 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-05T13:36:09.508Z  INFO 112336 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-05T13:36:09.528Z  INFO 112336 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-05T13:36:09.859Z  INFO 112336 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7aeabc9e
2026-02-05T13:36:09.861Z  INFO 112336 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-05T13:36:09.913Z  WARN 112336 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05T13:36:10.916Z  INFO 112336 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05T13:36:11.024Z  INFO 112336 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T13:36:11.240Z  INFO 112336 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-05T13:36:12.917Z  INFO 112336 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T13:36:12.990Z DEBUG 112336 --- [restartedMain] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T13:36:13.018Z  INFO 112336 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T13:36:13.133Z  WARN 112336 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-05T13:36:13.949Z  INFO 112336 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-05T13:36:14.009Z  INFO 112336 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2026-02-05T13:36:14.022Z  INFO 112336 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Started OnlineCarRentalApplication in 7.478 seconds (process running for 7.906)
2026-02-05T13:36:14.037Z  INFO 112336 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T13:36:14.040Z DEBUG 112336 --- [scheduling-1] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T13:36:14.053Z  INFO 112336 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T13:37:02.185Z  INFO 112336 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-05T13:37:02.186Z  INFO 112336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-05T13:37:02.187Z  INFO 112336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-05T13:37:02.259Z DEBUG 112336 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:37:02.267Z  WARN 112336 --- [http-nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/bookings' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-02-05T13:37:02.379Z  WARN 112336 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.Future' validating type 'java.lang.String'. Check configuration for 'endDate']
2026-02-05T13:40:21.273Z  INFO 112336 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T13:40:21.276Z  INFO 112336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-05T13:40:21.282Z  INFO 112336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-05T13:40:44.261Z  INFO 114574 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Starting OnlineCarRentalApplication using Java 21.0.9 with PID 114574 (/workspaces/onlinecarrental/backend/target/classes started by codespace in /workspaces/onlinecarrental/backend)
2026-02-05T13:40:44.268Z  INFO 114574 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : No active profile set, falling back to 1 default profile: "default"
2026-02-05T13:40:44.427Z  INFO 114574 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-05T13:40:44.428Z  INFO 114574 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-05T13:40:46.046Z  INFO 114574 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T13:40:46.047Z  INFO 114574 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-05T13:40:46.187Z  INFO 114574 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 134 ms. Found 8 JPA repository interfaces.
2026-02-05T13:40:46.204Z  INFO 114574 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T13:40:46.205Z  INFO 114574 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-02-05T13:40:46.220Z  INFO 114574 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.BookingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:40:46.221Z  INFO 114574 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ImageCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:40:46.221Z  INFO 114574 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PaymentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:40:46.222Z  INFO 114574 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PriceConfigRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:40:46.222Z  INFO 114574 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:40:46.222Z  INFO 114574 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:40:46.223Z  INFO 114574 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:40:46.223Z  INFO 114574 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:40:46.223Z  INFO 114574 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2026-02-05T13:40:46.833Z  INFO 114574 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-05T13:40:46.841Z  INFO 114574 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-05T13:40:46.842Z  INFO 114574 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-02-05T13:40:46.876Z  INFO 114574 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-05T13:40:46.876Z  INFO 114574 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2446 ms
2026-02-05T13:40:47.014Z  INFO 114574 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05T13:40:47.079Z  INFO 114574 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2026-02-05T13:40:47.105Z  INFO 114574 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-05T13:40:47.250Z  INFO 114574 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-05T13:40:47.272Z  INFO 114574 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-05T13:40:47.571Z  INFO 114574 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@58baecce
2026-02-05T13:40:47.573Z  INFO 114574 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-05T13:40:47.633Z  WARN 114574 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05T13:40:48.669Z  INFO 114574 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05T13:40:48.782Z  INFO 114574 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T13:40:49.011Z  INFO 114574 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-05T13:40:50.809Z  INFO 114574 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T13:40:50.917Z DEBUG 114574 --- [restartedMain] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T13:40:50.958Z  INFO 114574 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T13:40:51.076Z  WARN 114574 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-05T13:40:51.876Z  INFO 114574 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-05T13:40:51.905Z  INFO 114574 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2026-02-05T13:40:51.917Z  INFO 114574 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Started OnlineCarRentalApplication in 8.385 seconds (process running for 9.29)
2026-02-05T13:40:51.930Z  INFO 114574 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T13:40:51.933Z DEBUG 114574 --- [scheduling-1] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T13:40:51.948Z  INFO 114574 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T13:40:58.212Z  INFO 114574 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-05T13:40:58.212Z  INFO 114574 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-05T13:40:58.214Z  INFO 114574 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-05T13:40:58.288Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:40:58.297Z  WARN 114574 --- [http-nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/cars/available' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-02-05T13:40:58.335Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T13:40:58.400Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:40:58.407Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:40:58.408Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:40:58.410Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:40:58.412Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:40:58.415Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:40:58.416Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:40:58.417Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:41:12.044Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:41:12.207Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:41:12.296Z DEBUG 114574 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:41:12.514Z DEBUG 114574 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:41:12.530Z DEBUG 114574 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T13:41:12.536Z DEBUG 114574 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T13:41:29.587Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:41:29.615Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T13:41:29.619Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T13:41:30.843Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:41:30.850Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T13:41:30.859Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:41:30.860Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:41:30.863Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:41:30.865Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:41:30.867Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:41:30.869Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:41:30.870Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:41:30.872Z DEBUG 114574 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:42:21.874Z DEBUG 114574 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:42:21.893Z DEBUG 114574 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T13:42:21.896Z DEBUG 114574 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T13:42:21.910Z DEBUG 114574 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.vehicle_id=? 
        and b1_0.status!='CANCELLED' 
        and (
            (
                b1_0.start_date between ? and ?
            ) 
            or (
                b1_0.end_date between ? and ?
            ) 
            or (
                b1_0.start_date<=? 
                and b1_0.end_date>=?
            )
        )
2026-02-05T13:42:21.916Z DEBUG 114574 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(b1_0.id) 
    from
        bookings b1_0 
    where
        b1_0.start_date between ? and ?
2026-02-05T13:42:21.918Z  INFO 114574 --- [http-nio-8080-exec-4] c.d.o.a.pricing.DynamicPricingEngine     : Dynamic pricing calculation: Base=2000.00, Final=2207.999999999999800000, Multiplier=1.1039999999999999
2026-02-05T13:42:21.940Z DEBUG 114574 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        bookings
        (cancelled_at, confirmed_at, created_at, dropoff_location, end_date, pickup_location, start_date, status, total_price, user_id, vehicle_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05T13:42:21.952Z  INFO 114574 --- [http-nio-8080-exec-4] c.d.o.service.impl.BookingServiceImpl    : Booking created successfully: 1
2026-02-05T13:42:23.122Z DEBUG 114574 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:42:23.121Z DEBUG 114574 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:42:23.137Z DEBUG 114574 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T13:42:23.138Z DEBUG 114574 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T13:42:23.149Z DEBUG 114574 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T13:42:23.151Z DEBUG 114574 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T13:42:23.160Z DEBUG 114574 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T13:42:23.160Z DEBUG 114574 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T13:42:23.190Z  WARN 114574 --- [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1062, SQLState: 23000
2026-02-05T13:42:23.190Z ERROR 114574 --- [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry '1' for key 'payments.UK_nuscjm6x127hkb15kcb8n56wo'
2026-02-05T13:42:23.206Z  WARN 114574 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Duplicate entry '1' for key 'payments.UK_nuscjm6x127hkb15kcb8n56wo'] [insert into payments (amount,booking_id,completed_at,created_at,payment_method,status,transaction_id) values (?,?,?,?,?,?,?)]; SQL [insert into payments (amount,booking_id,completed_at,created_at,payment_method,status,transaction_id) values (?,?,?,?,?,?,?)]; constraint [payments.UK_nuscjm6x127hkb15kcb8n56wo]]
2026-02-05T13:52:01.333Z  INFO 114574 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T13:52:01.337Z  INFO 114574 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-05T13:52:01.344Z  INFO 114574 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-05T13:52:25.644Z  INFO 119923 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Starting OnlineCarRentalApplication using Java 21.0.9 with PID 119923 (/workspaces/onlinecarrental/backend/target/classes started by codespace in /workspaces/onlinecarrental/backend)
2026-02-05T13:52:25.646Z  INFO 119923 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : No active profile set, falling back to 1 default profile: "default"
2026-02-05T13:52:25.707Z  INFO 119923 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-05T13:52:25.708Z  INFO 119923 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-05T13:52:26.730Z  INFO 119923 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T13:52:26.732Z  INFO 119923 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-05T13:52:26.962Z  INFO 119923 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 222 ms. Found 8 JPA repository interfaces.
2026-02-05T13:52:26.988Z  INFO 119923 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T13:52:26.989Z  INFO 119923 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-02-05T13:52:27.004Z  INFO 119923 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.BookingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:52:27.005Z  INFO 119923 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ImageCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:52:27.005Z  INFO 119923 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PaymentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:52:27.005Z  INFO 119923 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PriceConfigRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:52:27.005Z  INFO 119923 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:52:27.005Z  INFO 119923 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:52:27.006Z  INFO 119923 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:52:27.007Z  INFO 119923 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T13:52:27.007Z  INFO 119923 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2026-02-05T13:52:27.557Z  INFO 119923 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-05T13:52:27.569Z  INFO 119923 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-05T13:52:27.570Z  INFO 119923 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-02-05T13:52:27.626Z  INFO 119923 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-05T13:52:27.629Z  INFO 119923 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1921 ms
2026-02-05T13:52:27.773Z  INFO 119923 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05T13:52:27.829Z  INFO 119923 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2026-02-05T13:52:27.855Z  INFO 119923 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-05T13:52:28.004Z  INFO 119923 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-05T13:52:28.024Z  INFO 119923 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-05T13:52:28.300Z  INFO 119923 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@627f7866
2026-02-05T13:52:28.301Z  INFO 119923 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-05T13:52:28.340Z  WARN 119923 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05T13:52:29.401Z  INFO 119923 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05T13:52:29.494Z  INFO 119923 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T13:52:29.717Z  INFO 119923 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-05T13:52:31.336Z  INFO 119923 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T13:52:31.427Z DEBUG 119923 --- [restartedMain] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T13:52:31.454Z  INFO 119923 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T13:52:31.566Z  WARN 119923 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-05T13:52:32.339Z  INFO 119923 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-05T13:52:32.371Z  INFO 119923 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2026-02-05T13:52:32.384Z  INFO 119923 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Started OnlineCarRentalApplication in 7.238 seconds (process running for 7.669)
2026-02-05T13:52:32.396Z  INFO 119923 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T13:52:32.399Z DEBUG 119923 --- [scheduling-1] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T13:52:32.408Z  INFO 119923 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T13:52:38.456Z  INFO 119923 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-05T13:52:38.456Z  INFO 119923 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-05T13:52:38.457Z  INFO 119923 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-05T13:52:38.540Z DEBUG 119923 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:52:38.541Z DEBUG 119923 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:52:38.551Z  WARN 119923 --- [http-nio-8080-exec-2] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/payment/esewa/initiate' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-02-05T13:52:38.660Z DEBUG 119923 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T13:52:38.660Z DEBUG 119923 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T13:52:38.676Z DEBUG 119923 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T13:52:38.676Z DEBUG 119923 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T13:52:44.224Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:52:44.245Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T13:52:44.280Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:52:44.285Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:52:44.286Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:52:44.289Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:52:44.290Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:52:44.291Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:52:44.292Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:52:44.294Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:19.559Z DEBUG 119923 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:53:19.682Z DEBUG 119923 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:53:19.773Z DEBUG 119923 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:53:20.119Z DEBUG 119923 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:53:20.128Z DEBUG 119923 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T13:53:20.136Z DEBUG 119923 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:20.139Z DEBUG 119923 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:20.141Z DEBUG 119923 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:20.143Z DEBUG 119923 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:20.145Z DEBUG 119923 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:20.146Z DEBUG 119923 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:20.148Z DEBUG 119923 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:20.149Z DEBUG 119923 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:28.430Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:53:28.443Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T13:53:28.450Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:28.453Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:28.455Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:28.456Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:28.458Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:28.460Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:28.461Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:53:28.463Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T13:54:33.193Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T13:54:33.210Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T13:54:33.212Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T13:54:33.222Z DEBUG 119923 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.vehicle_id=? 
        and b1_0.status!='CANCELLED' 
        and (
            (
                b1_0.start_date between ? and ?
            ) 
            or (
                b1_0.end_date between ? and ?
            ) 
            or (
                b1_0.start_date<=? 
                and b1_0.end_date>=?
            )
        )
2026-02-05T13:54:33.236Z  WARN 119923 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.driverental.onlinecarrental.model.exception.BusinessException: Vehicle not available for selected dates]
2026-02-05T14:01:14.967Z  INFO 119923 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T14:01:14.970Z  INFO 119923 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-05T14:01:14.976Z  INFO 119923 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-05T14:11:01.042Z  INFO 128469 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Starting OnlineCarRentalApplication using Java 21.0.9 with PID 128469 (/workspaces/onlinecarrental/backend/target/classes started by codespace in /workspaces/onlinecarrental/backend)
2026-02-05T14:11:01.045Z  INFO 128469 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : No active profile set, falling back to 1 default profile: "default"
2026-02-05T14:11:01.127Z  INFO 128469 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-05T14:11:01.128Z  INFO 128469 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-05T14:11:02.317Z  INFO 128469 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T14:11:02.319Z  INFO 128469 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-05T14:11:02.539Z  INFO 128469 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 211 ms. Found 8 JPA repository interfaces.
2026-02-05T14:11:02.558Z  INFO 128469 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T14:11:02.560Z  INFO 128469 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-02-05T14:11:02.581Z  INFO 128469 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.BookingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:11:02.582Z  INFO 128469 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ImageCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:11:02.583Z  INFO 128469 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PaymentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:11:02.583Z  INFO 128469 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PriceConfigRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:11:02.583Z  INFO 128469 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:11:02.583Z  INFO 128469 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:11:02.585Z  INFO 128469 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:11:02.586Z  INFO 128469 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:11:02.587Z  INFO 128469 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2026-02-05T14:11:03.187Z  INFO 128469 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-05T14:11:03.198Z  INFO 128469 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-05T14:11:03.199Z  INFO 128469 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-02-05T14:11:03.243Z  INFO 128469 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-05T14:11:03.244Z  INFO 128469 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2115 ms
2026-02-05T14:11:03.403Z  INFO 128469 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05T14:11:03.482Z  INFO 128469 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2026-02-05T14:11:03.508Z  INFO 128469 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-05T14:11:03.692Z  INFO 128469 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-05T14:11:03.714Z  INFO 128469 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-05T14:11:04.087Z  INFO 128469 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@75f01c64
2026-02-05T14:11:04.089Z  INFO 128469 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-05T14:11:04.129Z  WARN 128469 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05T14:11:05.120Z  INFO 128469 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05T14:11:05.229Z  INFO 128469 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T14:11:05.502Z  INFO 128469 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-05T14:11:07.229Z  INFO 128469 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T14:11:07.308Z DEBUG 128469 --- [restartedMain] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T14:11:07.336Z  INFO 128469 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T14:11:07.468Z  WARN 128469 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-05T14:11:08.180Z  INFO 128469 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-05T14:11:08.210Z  INFO 128469 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2026-02-05T14:11:08.224Z  INFO 128469 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Started OnlineCarRentalApplication in 7.641 seconds (process running for 8.103)
2026-02-05T14:11:08.240Z  INFO 128469 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T14:11:08.243Z DEBUG 128469 --- [scheduling-1] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T14:11:08.268Z  INFO 128469 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T14:11:42.266Z  INFO 128469 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-05T14:11:42.266Z  INFO 128469 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-05T14:11:42.267Z  INFO 128469 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-05T14:11:42.341Z DEBUG 128469 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:11:42.350Z  WARN 128469 --- [http-nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-02-05T14:11:42.617Z DEBUG 128469 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:11:42.711Z DEBUG 128469 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:11:43.184Z DEBUG 128469 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:11:43.217Z DEBUG 128469 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:11:43.225Z DEBUG 128469 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T14:11:57.629Z DEBUG 128469 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:11:57.650Z  WARN 128469 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "undefined"]
2026-02-05T14:11:58.837Z DEBUG 128469 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:11:58.848Z  WARN 128469 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "undefined"]
2026-02-05T14:12:02.585Z DEBUG 128469 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:12:02.592Z DEBUG 128469 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:12:02.596Z DEBUG 128469 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T14:12:09.609Z DEBUG 128469 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:12:09.622Z  WARN 128469 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2026-02-05T14:12:23.705Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:12:23.737Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T14:12:23.770Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:12:23.773Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:12:23.774Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:12:23.776Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:12:23.777Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:12:23.782Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:12:23.787Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:12:23.791Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:12:57.759Z DEBUG 128469 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:12:57.777Z DEBUG 128469 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:12:57.780Z DEBUG 128469 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T14:12:57.794Z DEBUG 128469 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.vehicle_id=? 
        and b1_0.status!='CANCELLED' 
        and (
            (
                b1_0.start_date between ? and ?
            ) 
            or (
                b1_0.end_date between ? and ?
            ) 
            or (
                b1_0.start_date<=? 
                and b1_0.end_date>=?
            )
        )
2026-02-05T14:12:57.800Z DEBUG 128469 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(b1_0.id) 
    from
        bookings b1_0 
    where
        b1_0.start_date between ? and ?
2026-02-05T14:12:57.802Z  INFO 128469 --- [http-nio-8080-exec-8] c.d.o.a.pricing.DynamicPricingEngine     : Dynamic pricing calculation: Base=1000.00, Final=1000.00, Multiplier=0.96
2026-02-05T14:12:57.822Z DEBUG 128469 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        bookings
        (cancelled_at, confirmed_at, created_at, dropoff_location, end_date, pickup_location, start_date, status, total_price, user_id, vehicle_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05T14:12:57.834Z  INFO 128469 --- [http-nio-8080-exec-8] c.d.o.service.impl.BookingServiceImpl    : Booking created successfully: 2 for vehicle: 7, dates: 2026-02-05 to 2026-02-06
2026-02-05T14:12:58.926Z DEBUG 128469 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:12:58.926Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:12:58.943Z DEBUG 128469 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T14:12:58.943Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T14:12:58.947Z DEBUG 128469 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T14:12:58.948Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T14:12:58.958Z DEBUG 128469 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T14:12:58.959Z DEBUG 128469 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T14:12:58.991Z  WARN 128469 --- [http-nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1062, SQLState: 23000
2026-02-05T14:12:58.992Z ERROR 128469 --- [http-nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry '2' for key 'payments.UK_nuscjm6x127hkb15kcb8n56wo'
2026-02-05T14:12:59.001Z  WARN 128469 --- [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Duplicate entry '2' for key 'payments.UK_nuscjm6x127hkb15kcb8n56wo'] [insert into payments (amount,booking_id,completed_at,created_at,payment_method,status,transaction_id) values (?,?,?,?,?,?,?)]; SQL [insert into payments (amount,booking_id,completed_at,created_at,payment_method,status,transaction_id) values (?,?,?,?,?,?,?)]; constraint [payments.UK_nuscjm6x127hkb15kcb8n56wo]]
2026-02-05T14:33:09.313Z  INFO 128469 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T14:33:09.316Z  INFO 128469 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-05T14:33:09.336Z  INFO 128469 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-05T14:33:32.392Z  INFO 138989 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Starting OnlineCarRentalApplication using Java 21.0.9 with PID 138989 (/workspaces/onlinecarrental/backend/target/classes started by codespace in /workspaces/onlinecarrental/backend)
2026-02-05T14:33:32.394Z  INFO 138989 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : No active profile set, falling back to 1 default profile: "default"
2026-02-05T14:33:32.457Z  INFO 138989 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-05T14:33:32.457Z  INFO 138989 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-05T14:33:33.432Z  INFO 138989 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T14:33:33.433Z  INFO 138989 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-05T14:33:33.569Z  INFO 138989 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 131 ms. Found 8 JPA repository interfaces.
2026-02-05T14:33:33.590Z  INFO 138989 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T14:33:33.590Z  INFO 138989 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-02-05T14:33:33.604Z  INFO 138989 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.BookingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:33:33.605Z  INFO 138989 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ImageCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:33:33.605Z  INFO 138989 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PaymentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:33:33.605Z  INFO 138989 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PriceConfigRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:33:33.606Z  INFO 138989 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:33:33.606Z  INFO 138989 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:33:33.607Z  INFO 138989 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:33:33.607Z  INFO 138989 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T14:33:33.607Z  INFO 138989 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2026-02-05T14:33:34.185Z  INFO 138989 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-05T14:33:34.193Z  INFO 138989 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-05T14:33:34.194Z  INFO 138989 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-02-05T14:33:34.225Z  INFO 138989 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-05T14:33:34.225Z  INFO 138989 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1767 ms
2026-02-05T14:33:34.369Z  INFO 138989 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05T14:33:34.436Z  INFO 138989 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2026-02-05T14:33:34.461Z  INFO 138989 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-05T14:33:34.608Z  INFO 138989 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-05T14:33:34.626Z  INFO 138989 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-05T14:33:34.982Z  INFO 138989 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4f8be1a5
2026-02-05T14:33:34.984Z  INFO 138989 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-05T14:33:35.026Z  WARN 138989 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05T14:33:36.177Z  INFO 138989 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05T14:33:36.266Z  INFO 138989 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T14:33:36.522Z  INFO 138989 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-05T14:33:38.108Z  INFO 138989 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T14:33:38.182Z DEBUG 138989 --- [restartedMain] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T14:33:38.212Z  INFO 138989 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T14:33:38.409Z  WARN 138989 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-05T14:33:39.137Z  INFO 138989 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-05T14:33:39.166Z  INFO 138989 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2026-02-05T14:33:39.179Z  INFO 138989 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Started OnlineCarRentalApplication in 7.267 seconds (process running for 7.841)
2026-02-05T14:33:39.191Z  INFO 138989 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T14:33:39.194Z DEBUG 138989 --- [scheduling-1] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T14:33:39.206Z  INFO 138989 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T14:34:09.434Z  INFO 138989 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-05T14:34:09.434Z  INFO 138989 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-05T14:34:09.436Z  INFO 138989 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-02-05T14:34:09.526Z DEBUG 138989 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:34:09.527Z DEBUG 138989 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:34:09.539Z  WARN 138989 --- [http-nio-8080-exec-2] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/payment/esewa/initiate' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-02-05T14:34:09.657Z DEBUG 138989 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T14:34:09.657Z DEBUG 138989 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T14:34:09.692Z  WARN 138989 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.driverental.onlinecarrental.model.exception.ResourceNotFoundException: Booking not found with id: '2']
2026-02-05T14:34:09.693Z  WARN 138989 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.driverental.onlinecarrental.model.exception.ResourceNotFoundException: Booking not found with id: '2']
2026-02-05T14:34:39.704Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:34:39.823Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:34:39.915Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:34:40.366Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:34:40.381Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:34:40.390Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T14:34:49.325Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:34:49.345Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T14:34:49.365Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:34:49.372Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:34:49.377Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:34:49.379Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:34:49.380Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:34:49.387Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:34:49.390Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:34:49.393Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:34:57.217Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:34:57.223Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:34:57.228Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T14:34:57.407Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:34:57.414Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:34:57.419Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T14:35:04.933Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:35:04.941Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T14:35:04.949Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:04.953Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:04.954Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:04.956Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:04.957Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:04.958Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:04.960Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:04.961Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:32.146Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:35:32.160Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T14:35:32.169Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:32.173Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:32.177Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:32.179Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:32.183Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:32.187Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:32.188Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:32.192Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:35:46.911Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:35:46.918Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:35:47.008Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:35:47.182Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:35:47.188Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:35:47.191Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T14:35:54.549Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:35:54.556Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:35:54.561Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T14:35:54.638Z DEBUG 138989 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:35:54.645Z DEBUG 138989 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:35:54.650Z DEBUG 138989 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T14:36:18.374Z DEBUG 138989 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:36:18.382Z DEBUG 138989 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:36:18.484Z DEBUG 138989 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:36:18.676Z DEBUG 138989 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:36:18.682Z DEBUG 138989 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:36:18.687Z DEBUG 138989 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T14:36:21.080Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:36:21.087Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T14:36:21.093Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:36:21.094Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:36:21.095Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:36:21.097Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:36:21.098Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:36:21.100Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:36:21.102Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:36:21.103Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:37:07.684Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:37:07.698Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:37:07.701Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T14:37:07.723Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.vehicle_id=? 
        and b1_0.status!='CANCELLED' 
        and (
            (
                b1_0.start_date between ? and ?
            ) 
            or (
                b1_0.end_date between ? and ?
            ) 
            or (
                b1_0.start_date<=? 
                and b1_0.end_date>=?
            )
        )
2026-02-05T14:37:07.732Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(b1_0.id) 
    from
        bookings b1_0 
    where
        b1_0.start_date between ? and ?
2026-02-05T14:37:07.735Z  INFO 138989 --- [http-nio-8080-exec-5] c.d.o.a.pricing.DynamicPricingEngine     : Dynamic pricing calculation: Base=1000.00, Final=1000.00, Multiplier=0.96
2026-02-05T14:37:07.756Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        bookings
        (cancelled_at, confirmed_at, created_at, dropoff_location, end_date, pickup_location, start_date, status, total_price, user_id, vehicle_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05T14:37:07.768Z  INFO 138989 --- [http-nio-8080-exec-5] c.d.o.service.impl.BookingServiceImpl    : Booking created successfully: 3 for vehicle: 7, dates: 2026-02-05 to 2026-02-06
2026-02-05T14:37:08.852Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:37:08.856Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:37:08.864Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T14:37:08.864Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T14:37:08.874Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T14:37:08.875Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T14:37:08.876Z  INFO 138989 --- [http-nio-8080-exec-7] c.d.o.s.impl.EsewaPaymentServiceImpl     : Creating new payment for booking 3
2026-02-05T14:37:08.876Z  INFO 138989 --- [http-nio-8080-exec-6] c.d.o.s.impl.EsewaPaymentServiceImpl     : Creating new payment for booking 3
2026-02-05T14:37:08.883Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T14:37:08.886Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T14:37:08.888Z  INFO 138989 --- [http-nio-8080-exec-6] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment created successfully. ID: 5, UUID: d299def3-41dd-4553-94ab-9167a67311ad
2026-02-05T14:37:08.917Z  WARN 138989 --- [http-nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1062, SQLState: 23000
2026-02-05T14:37:08.917Z ERROR 138989 --- [http-nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry '3' for key 'payments.UK_nuscjm6x127hkb15kcb8n56wo'
2026-02-05T14:37:08.922Z  WARN 138989 --- [http-nio-8080-exec-7] c.d.o.s.impl.EsewaPaymentServiceImpl     : Race condition detected for booking 3. Fetching existing payment.
2026-02-05T14:37:08.924Z ERROR 138989 --- [http-nio-8080-exec-7] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.driverental.onlinecarrental.model.entity.Payment entry (don't flush the Session after an exception occurs)
2026-02-05T14:37:08.928Z  WARN 138989 --- [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.hibernate.AssertionFailure: null id in com.driverental.onlinecarrental.model.entity.Payment entry (don't flush the Session after an exception occurs)]
2026-02-05T14:58:38.948Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:58:38.958Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T14:58:38.965Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:58:38.967Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:58:38.968Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:58:38.970Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:58:38.971Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:58:38.972Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:58:38.973Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:58:38.974Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T14:59:05.954Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:59:05.966Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T14:59:05.967Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T14:59:05.971Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.vehicle_id=? 
        and b1_0.status!='CANCELLED' 
        and (
            (
                b1_0.start_date between ? and ?
            ) 
            or (
                b1_0.end_date between ? and ?
            ) 
            or (
                b1_0.start_date<=? 
                and b1_0.end_date>=?
            )
        )
2026-02-05T14:59:05.973Z  INFO 138989 --- [http-nio-8080-exec-4] c.d.o.service.impl.BookingServiceImpl    : User 3 is retrying their own PENDING booking for vehicle 7 on dates 2026-02-05 to 2026-02-06
2026-02-05T14:59:05.976Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(b1_0.id) 
    from
        bookings b1_0 
    where
        b1_0.start_date between ? and ?
2026-02-05T14:59:05.977Z  INFO 138989 --- [http-nio-8080-exec-4] c.d.o.a.pricing.DynamicPricingEngine     : Dynamic pricing calculation: Base=1000.00, Final=1000.00, Multiplier=0.96
2026-02-05T14:59:05.987Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        bookings
        (cancelled_at, confirmed_at, created_at, dropoff_location, end_date, pickup_location, start_date, status, total_price, user_id, vehicle_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05T14:59:05.992Z  INFO 138989 --- [http-nio-8080-exec-4] c.d.o.service.impl.BookingServiceImpl    : Booking created successfully: 4 for vehicle: 7, dates: 2026-02-05 to 2026-02-06
2026-02-05T14:59:07.162Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:59:07.175Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T14:59:07.180Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T14:59:07.182Z  INFO 138989 --- [http-nio-8080-exec-6] c.d.o.s.impl.EsewaPaymentServiceImpl     : Creating new payment for booking 4
2026-02-05T14:59:07.186Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T14:59:07.188Z  INFO 138989 --- [http-nio-8080-exec-6] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment created successfully. ID: 7, UUID: 01aa8c4d-069f-4576-8a59-9a126f8c0106
2026-02-05T14:59:07.284Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T14:59:07.289Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T14:59:07.291Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T14:59:07.294Z  INFO 138989 --- [http-nio-8080-exec-9] c.d.o.s.impl.EsewaPaymentServiceImpl     : Updating existing payment 7 for booking 4
2026-02-05T14:59:07.297Z  INFO 138989 --- [http-nio-8080-exec-9] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment updated successfully. UUID: 01aa8c4d-069f-4576-8a59-9a126f8c0106
2026-02-05T15:06:07.225Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:06:07.228Z DEBUG 138989 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:06:07.236Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T15:06:07.240Z DEBUG 138989 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T15:06:07.242Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T15:06:07.246Z  INFO 138989 --- [http-nio-8080-exec-9] c.d.o.s.impl.EsewaPaymentServiceImpl     : Updating existing payment 7 for booking 4
2026-02-05T15:06:07.246Z  INFO 138989 --- [http-nio-8080-exec-9] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment updated successfully. UUID: 01aa8c4d-069f-4576-8a59-9a126f8c0106
2026-02-05T15:06:07.245Z DEBUG 138989 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T15:06:07.249Z  INFO 138989 --- [http-nio-8080-exec-1] c.d.o.s.impl.EsewaPaymentServiceImpl     : Updating existing payment 7 for booking 4
2026-02-05T15:06:07.249Z  INFO 138989 --- [http-nio-8080-exec-1] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment updated successfully. UUID: 01aa8c4d-069f-4576-8a59-9a126f8c0106
2026-02-05T15:07:51.092Z DEBUG 138989 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:07:51.096Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:07:51.101Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T15:07:51.101Z DEBUG 138989 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T15:07:51.105Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T15:07:51.106Z  INFO 138989 --- [http-nio-8080-exec-3] c.d.o.s.impl.EsewaPaymentServiceImpl     : Updating existing payment 7 for booking 4
2026-02-05T15:07:51.106Z  INFO 138989 --- [http-nio-8080-exec-3] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment updated successfully. UUID: 01aa8c4d-069f-4576-8a59-9a126f8c0106
2026-02-05T15:07:51.107Z DEBUG 138989 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T15:07:51.113Z  INFO 138989 --- [http-nio-8080-exec-10] c.d.o.s.impl.EsewaPaymentServiceImpl     : Updating existing payment 7 for booking 4
2026-02-05T15:07:51.114Z  INFO 138989 --- [http-nio-8080-exec-10] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment updated successfully. UUID: 01aa8c4d-069f-4576-8a59-9a126f8c0106
2026-02-05T15:07:53.633Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:07:53.638Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T15:07:53.644Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:07:53.645Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:07:53.647Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:07:53.649Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:07:53.651Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:07:53.652Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:07:53.654Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:07:53.655Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:08:07.565Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:08:07.572Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:08:07.660Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:08:07.925Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:08:07.930Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T15:08:07.933Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:08:07.934Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:08:07.935Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:08:07.937Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:08:07.938Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:08:07.939Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:08:07.940Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:08:07.941Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:08:14.094Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:08:14.101Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T15:08:14.112Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:08:14.312Z DEBUG 138989 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:08:14.325Z DEBUG 138989 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.rating,
        r1_0.updated_at,
        r1_0.user_id,
        r1_0.vehicle_id 
    from
        reviews r1_0 
    where
        r1_0.vehicle_id=? 
    limit
        ?, ?
2026-02-05T15:08:28.341Z DEBUG 138989 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:08:28.347Z DEBUG 138989 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T15:08:28.357Z DEBUG 138989 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T15:08:28.362Z DEBUG 138989 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.vehicle_id=? 
        and b1_0.status!='CANCELLED' 
        and (
            (
                b1_0.start_date between ? and ?
            ) 
            or (
                b1_0.end_date between ? and ?
            ) 
            or (
                b1_0.start_date<=? 
                and b1_0.end_date>=?
            )
        )
2026-02-05T15:08:28.368Z DEBUG 138989 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(b1_0.id) 
    from
        bookings b1_0 
    where
        b1_0.start_date between ? and ?
2026-02-05T15:08:28.370Z  INFO 138989 --- [http-nio-8080-exec-8] c.d.o.a.pricing.DynamicPricingEngine     : Dynamic pricing calculation: Base=1500.00, Final=1500.00, Multiplier=0.96
2026-02-05T15:08:28.372Z DEBUG 138989 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        bookings
        (cancelled_at, confirmed_at, created_at, dropoff_location, end_date, pickup_location, start_date, status, total_price, user_id, vehicle_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05T15:08:28.376Z  INFO 138989 --- [http-nio-8080-exec-8] c.d.o.service.impl.BookingServiceImpl    : Booking created successfully: 5 for vehicle: 9, dates: 2026-02-05 to 2026-02-06
2026-02-05T15:08:29.341Z DEBUG 138989 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:08:29.349Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:08:29.358Z DEBUG 138989 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T15:08:29.369Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T15:08:29.369Z DEBUG 138989 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T15:08:29.371Z  INFO 138989 --- [http-nio-8080-exec-2] c.d.o.s.impl.EsewaPaymentServiceImpl     : Creating new payment for booking 5
2026-02-05T15:08:29.373Z DEBUG 138989 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T15:08:29.375Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T15:08:29.376Z  INFO 138989 --- [http-nio-8080-exec-2] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment created successfully. ID: 8, UUID: bbd712e5-8629-484b-9ad1-51d1a729331d
2026-02-05T15:08:29.379Z  INFO 138989 --- [http-nio-8080-exec-3] c.d.o.s.impl.EsewaPaymentServiceImpl     : Creating new payment for booking 5
2026-02-05T15:08:29.382Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T15:08:29.386Z  WARN 138989 --- [http-nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1062, SQLState: 23000
2026-02-05T15:08:29.387Z ERROR 138989 --- [http-nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry '5' for key 'payments.UK_nuscjm6x127hkb15kcb8n56wo'
2026-02-05T15:08:29.387Z  WARN 138989 --- [http-nio-8080-exec-3] c.d.o.s.impl.EsewaPaymentServiceImpl     : Race condition detected for booking 5. Fetching existing payment.
2026-02-05T15:08:29.390Z ERROR 138989 --- [http-nio-8080-exec-3] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.driverental.onlinecarrental.model.entity.Payment entry (don't flush the Session after an exception occurs)
2026-02-05T15:08:29.399Z  WARN 138989 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.hibernate.AssertionFailure: null id in com.driverental.onlinecarrental.model.entity.Payment entry (don't flush the Session after an exception occurs)]
2026-02-05T15:10:11.598Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:10:11.621Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.rating,
        r1_0.updated_at,
        r1_0.user_id,
        r1_0.vehicle_id 
    from
        reviews r1_0 
    where
        r1_0.vehicle_id=? 
    limit
        ?, ?
2026-02-05T15:10:11.691Z DEBUG 138989 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:10:11.699Z DEBUG 138989 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T15:10:11.704Z DEBUG 138989 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:10:12.906Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:10:12.914Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T15:10:12.925Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:10:12.929Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:10:12.931Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:10:12.932Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:10:12.933Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:10:12.935Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:10:12.936Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:10:12.939Z DEBUG 138989 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:10:31.838Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:10:31.842Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:10:31.848Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T15:10:31.848Z DEBUG 138989 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.rating,
        r1_0.updated_at,
        r1_0.user_id,
        r1_0.vehicle_id 
    from
        reviews r1_0 
    where
        r1_0.vehicle_id=? 
    limit
        ?, ?
2026-02-05T15:10:31.852Z DEBUG 138989 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T15:10:46.509Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:10:46.513Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T15:10:46.515Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T15:10:46.518Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.vehicle_id=? 
        and b1_0.status!='CANCELLED' 
        and (
            (
                b1_0.start_date between ? and ?
            ) 
            or (
                b1_0.end_date between ? and ?
            ) 
            or (
                b1_0.start_date<=? 
                and b1_0.end_date>=?
            )
        )
2026-02-05T15:10:46.521Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(b1_0.id) 
    from
        bookings b1_0 
    where
        b1_0.start_date between ? and ?
2026-02-05T15:10:46.525Z  INFO 138989 --- [http-nio-8080-exec-5] c.d.o.a.pricing.DynamicPricingEngine     : Dynamic pricing calculation: Base=1500.00, Final=1500.00, Multiplier=0.96
2026-02-05T15:10:46.526Z DEBUG 138989 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        bookings
        (cancelled_at, confirmed_at, created_at, dropoff_location, end_date, pickup_location, start_date, status, total_price, user_id, vehicle_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05T15:10:46.528Z  INFO 138989 --- [http-nio-8080-exec-5] c.d.o.service.impl.BookingServiceImpl    : Booking created successfully: 6 for vehicle: 9, dates: 2026-02-05 to 2026-02-06
2026-02-05T15:10:47.499Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:10:47.505Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T15:10:47.508Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T15:10:47.510Z  INFO 138989 --- [http-nio-8080-exec-6] c.d.o.s.impl.EsewaPaymentServiceImpl     : Creating new payment for booking 6
2026-02-05T15:10:47.512Z DEBUG 138989 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T15:10:47.513Z  INFO 138989 --- [http-nio-8080-exec-6] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment created successfully. ID: 10, UUID: e18a22f3-ca41-4c64-8b88-9b8effed9466
2026-02-05T15:10:47.561Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T15:10:47.575Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T15:10:47.579Z DEBUG 138989 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T15:10:47.583Z  INFO 138989 --- [http-nio-8080-exec-9] c.d.o.s.impl.EsewaPaymentServiceImpl     : Updating existing payment 10 for booking 6
2026-02-05T15:10:47.586Z  INFO 138989 --- [http-nio-8080-exec-9] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment updated successfully. UUID: e18a22f3-ca41-4c64-8b88-9b8effed9466
