2026-02-05T15:35:25.162Z  INFO 167303 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Starting OnlineCarRentalApplication using Java 21.0.9 with PID 167303 (/workspaces/onlinecarrental/backend/target/classes started by codespace in /workspaces/onlinecarrental/backend)
2026-02-05T15:35:25.169Z  INFO 167303 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : No active profile set, falling back to 1 default profile: "default"
2026-02-05T15:35:25.269Z  INFO 167303 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-05T15:35:25.269Z  INFO 167303 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-05T15:35:26.220Z  INFO 167303 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T15:35:26.221Z  INFO 167303 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-05T15:35:26.427Z  INFO 167303 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 201 ms. Found 8 JPA repository interfaces.
2026-02-05T15:35:26.445Z  INFO 167303 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T15:35:26.446Z  INFO 167303 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-02-05T15:35:26.461Z  INFO 167303 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.BookingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:35:26.462Z  INFO 167303 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ImageCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:35:26.462Z  INFO 167303 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PaymentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:35:26.462Z  INFO 167303 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PriceConfigRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:35:26.462Z  INFO 167303 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:35:26.463Z  INFO 167303 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:35:26.463Z  INFO 167303 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:35:26.464Z  INFO 167303 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:35:26.464Z  INFO 167303 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2026-02-05T15:35:27.043Z  INFO 167303 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-05T15:35:27.054Z  INFO 167303 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-05T15:35:27.054Z  INFO 167303 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-02-05T15:35:27.087Z  INFO 167303 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-05T15:35:27.088Z  INFO 167303 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1817 ms
2026-02-05T15:35:27.237Z  INFO 167303 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05T15:35:27.286Z  INFO 167303 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2026-02-05T15:35:27.324Z  INFO 167303 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-05T15:35:27.486Z  INFO 167303 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-05T15:35:27.504Z  INFO 167303 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-05T15:35:27.788Z  INFO 167303 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e0fed7a
2026-02-05T15:35:27.790Z  INFO 167303 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-05T15:35:27.829Z  WARN 167303 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05T15:35:28.908Z  INFO 167303 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05T15:35:29.001Z  INFO 167303 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T15:35:29.216Z  INFO 167303 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-05T15:35:30.876Z  INFO 167303 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T15:35:30.953Z DEBUG 167303 --- [restartedMain] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T15:35:30.981Z  INFO 167303 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T15:35:31.097Z  WARN 167303 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-05T15:35:31.786Z  INFO 167303 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-05T15:35:31.816Z  INFO 167303 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2026-02-05T15:35:31.828Z  INFO 167303 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Started OnlineCarRentalApplication in 7.157 seconds (process running for 7.67)
2026-02-05T15:35:31.840Z  INFO 167303 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T15:35:31.842Z DEBUG 167303 --- [scheduling-1] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T15:35:31.855Z  INFO 167303 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T15:39:54.251Z  INFO 167303 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 177 class path changes (0 additions, 177 deletions, 0 modifications)
2026-02-05T15:39:54.291Z  INFO 167303 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T15:39:54.299Z  INFO 167303 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-05T15:39:54.325Z  INFO 167303 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-05T15:46:07.688Z  INFO 172468 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Starting OnlineCarRentalApplication using Java 21.0.9 with PID 172468 (/workspaces/onlinecarrental/onlinecarrental/target/classes started by codespace in /workspaces/onlinecarrental/onlinecarrental)
2026-02-05T15:46:07.690Z  INFO 172468 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : No active profile set, falling back to 1 default profile: "default"
2026-02-05T15:46:07.753Z  INFO 172468 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-05T15:46:07.753Z  INFO 172468 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-05T15:46:08.747Z  INFO 172468 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T15:46:08.748Z  INFO 172468 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-05T15:46:08.885Z  INFO 172468 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 132 ms. Found 8 JPA repository interfaces.
2026-02-05T15:46:08.901Z  INFO 172468 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T15:46:08.901Z  INFO 172468 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-02-05T15:46:08.915Z  INFO 172468 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.BookingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:46:08.916Z  INFO 172468 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ImageCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:46:08.917Z  INFO 172468 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PaymentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:46:08.917Z  INFO 172468 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PriceConfigRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:46:08.917Z  INFO 172468 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:46:08.917Z  INFO 172468 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:46:08.918Z  INFO 172468 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:46:08.918Z  INFO 172468 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:46:08.919Z  INFO 172468 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2026-02-05T15:46:09.465Z  INFO 172468 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-05T15:46:09.474Z  INFO 172468 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-05T15:46:09.475Z  INFO 172468 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-02-05T15:46:09.508Z  INFO 172468 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-05T15:46:09.508Z  INFO 172468 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1754 ms
2026-02-05T15:46:09.643Z  INFO 172468 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05T15:46:09.694Z  INFO 172468 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2026-02-05T15:46:09.719Z  INFO 172468 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-05T15:46:09.878Z  INFO 172468 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-05T15:46:09.908Z  INFO 172468 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-05T15:46:10.346Z  INFO 172468 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7aeabc9e
2026-02-05T15:46:10.348Z  INFO 172468 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-05T15:46:10.406Z  WARN 172468 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05T15:46:11.324Z  INFO 172468 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05T15:46:11.435Z  INFO 172468 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T15:46:11.667Z  INFO 172468 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-05T15:46:13.171Z  INFO 172468 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T15:46:13.241Z DEBUG 172468 --- [restartedMain] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T15:46:13.268Z  INFO 172468 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T15:46:13.397Z  WARN 172468 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-05T15:46:14.092Z  INFO 172468 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-05T15:46:14.122Z  INFO 172468 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2026-02-05T15:46:14.133Z  INFO 172468 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Started OnlineCarRentalApplication in 6.911 seconds (process running for 7.296)
2026-02-05T15:46:14.145Z  INFO 172468 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T15:46:14.147Z DEBUG 172468 --- [scheduling-1] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T15:46:14.155Z  INFO 172468 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T15:49:28.919Z  INFO 172468 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T15:49:28.922Z  INFO 172468 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-02-05T15:49:28.929Z  INFO 172468 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-02-05T15:49:50.724Z  INFO 174664 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Starting OnlineCarRentalApplication using Java 21.0.9 with PID 174664 (/workspaces/onlinecarrental/onlinecarrental/target/classes started by codespace in /workspaces/onlinecarrental/onlinecarrental)
2026-02-05T15:49:50.726Z  INFO 174664 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : No active profile set, falling back to 1 default profile: "default"
2026-02-05T15:49:50.800Z  INFO 174664 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-02-05T15:49:50.801Z  INFO 174664 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-02-05T15:49:51.756Z  INFO 174664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T15:49:51.757Z  INFO 174664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-05T15:49:51.894Z  INFO 174664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 131 ms. Found 8 JPA repository interfaces.
2026-02-05T15:49:51.910Z  INFO 174664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05T15:49:51.911Z  INFO 174664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-02-05T15:49:51.926Z  INFO 174664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.BookingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:49:51.927Z  INFO 174664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ImageCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:49:51.927Z  INFO 174664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PaymentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:49:51.927Z  INFO 174664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.PriceConfigRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:49:51.928Z  INFO 174664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:49:51.928Z  INFO 174664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:49:51.929Z  INFO 174664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleImageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:49:51.929Z  INFO 174664 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.driverental.onlinecarrental.repository.VehicleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-02-05T15:49:51.929Z  INFO 174664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2026-02-05T15:49:52.453Z  INFO 174664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-05T15:49:52.462Z  INFO 174664 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-05T15:49:52.463Z  INFO 174664 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-02-05T15:49:52.501Z  INFO 174664 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-05T15:49:52.503Z  INFO 174664 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1701 ms
2026-02-05T15:49:52.640Z  INFO 174664 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05T15:49:52.693Z  INFO 174664 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2026-02-05T15:49:52.720Z  INFO 174664 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-05T15:49:52.914Z  INFO 174664 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-05T15:49:52.933Z  INFO 174664 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-05T15:49:53.233Z  INFO 174664 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1edc0e67
2026-02-05T15:49:53.234Z  INFO 174664 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-05T15:49:53.285Z  WARN 174664 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05T15:49:54.348Z  INFO 174664 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05T15:49:54.441Z  INFO 174664 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-05T15:49:54.687Z  INFO 174664 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-05T15:49:56.268Z  INFO 174664 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T15:49:56.343Z DEBUG 174664 --- [restartedMain] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T15:49:56.373Z  INFO 174664 --- [restartedMain] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T15:49:56.501Z  WARN 174664 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-05T15:49:57.287Z  INFO 174664 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-02-05T15:49:57.330Z  INFO 174664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2026-02-05T15:49:57.348Z  INFO 174664 --- [restartedMain] c.d.o.OnlineCarRentalApplication         : Started OnlineCarRentalApplication in 7.024 seconds (process running for 7.394)
2026-02-05T15:49:57.362Z  INFO 174664 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Rebuilding search index...
2026-02-05T15:49:57.364Z DEBUG 174664 --- [scheduling-1] org.hibernate.SQL                        : 
    select
        distinct v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        f1_0.vehicle_id,
        f1_0.feature,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    left join
        vehicle_features f1_0 
            on v1_0.id=f1_0.vehicle_id
2026-02-05T15:49:57.376Z  INFO 174664 --- [scheduling-1] c.d.o.service.impl.SearchServiceImpl     : Search index rebuilt with 37 keywords
2026-02-05T16:01:06.368Z  INFO 174664 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-05T16:01:06.369Z  INFO 174664 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-05T16:01:06.370Z  INFO 174664 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-05T16:01:06.444Z DEBUG 174664 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:01:06.452Z  WARN 174664 --- [http-nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-02-05T16:01:06.631Z DEBUG 174664 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:01:06.720Z DEBUG 174664 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:01:07.424Z DEBUG 174664 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:01:07.450Z DEBUG 174664 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T16:01:07.457Z DEBUG 174664 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T16:01:16.160Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:01:16.180Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T16:01:16.202Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:01:16.204Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:01:16.206Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:01:16.207Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:01:16.208Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:01:16.210Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:01:16.212Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:01:16.213Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:02:03.722Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:02:03.742Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T16:02:03.745Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T16:02:03.761Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.vehicle_id=? 
        and b1_0.status!='CANCELLED' 
        and (
            (
                b1_0.start_date between ? and ?
            ) 
            or (
                b1_0.end_date between ? and ?
            ) 
            or (
                b1_0.start_date<=? 
                and b1_0.end_date>=?
            )
        )
2026-02-05T16:02:03.765Z  INFO 174664 --- [http-nio-8080-exec-5] c.d.o.service.impl.BookingServiceImpl    : User 3 is retrying their own PENDING booking for vehicle 9 on dates 2026-02-05 to 2026-02-06
2026-02-05T16:02:03.769Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(b1_0.id) 
    from
        bookings b1_0 
    where
        b1_0.start_date between ? and ?
2026-02-05T16:02:03.771Z  INFO 174664 --- [http-nio-8080-exec-5] c.d.o.a.pricing.DynamicPricingEngine     : Dynamic pricing calculation: Base=1500.00, Final=1500.00, Multiplier=0.96
2026-02-05T16:02:03.792Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        bookings
        (cancelled_at, confirmed_at, created_at, dropoff_location, end_date, pickup_location, start_date, status, total_price, user_id, vehicle_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05T16:02:03.805Z  INFO 174664 --- [http-nio-8080-exec-5] c.d.o.service.impl.BookingServiceImpl    : Booking created successfully: 7 for vehicle: 9, dates: 2026-02-05 to 2026-02-06
2026-02-05T16:02:04.993Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:02:04.997Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:02:05.011Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T16:02:05.011Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T16:02:05.015Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T16:02:05.015Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T16:02:05.018Z  INFO 174664 --- [http-nio-8080-exec-8] c.d.o.s.impl.EsewaPaymentServiceImpl     : Creating new payment for booking 7
2026-02-05T16:02:05.020Z  INFO 174664 --- [http-nio-8080-exec-7] c.d.o.s.impl.EsewaPaymentServiceImpl     : Creating new payment for booking 7
2026-02-05T16:02:05.026Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T16:02:05.027Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T16:02:05.030Z  INFO 174664 --- [http-nio-8080-exec-7] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment created successfully. ID: 11, UUID: acbfeae1-fa33-4a8b-9665-6cb2bc2b431f
2026-02-05T16:02:05.030Z  INFO 174664 --- [http-nio-8080-exec-7] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment resolved for booking 7. UUID: acbfeae1-fa33-4a8b-9665-6cb2bc2b431f
2026-02-05T16:02:05.062Z  WARN 174664 --- [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1062, SQLState: 23000
2026-02-05T16:02:05.063Z ERROR 174664 --- [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry '7' for key 'payments.UK_nuscjm6x127hkb15kcb8n56wo'
2026-02-05T16:02:05.068Z  WARN 174664 --- [http-nio-8080-exec-8] c.d.o.s.impl.EsewaPaymentServiceImpl     : Race condition detected for booking 7. Fetching existing payment created by another thread.
2026-02-05T16:02:05.071Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T16:02:05.073Z ERROR 174664 --- [http-nio-8080-exec-8] c.d.o.s.impl.EsewaPaymentServiceImpl     : Race condition occurred but cannot find the created payment for booking 7
2026-02-05T16:02:05.084Z  WARN 174664 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.driverental.onlinecarrental.model.exception.BusinessException: Failed to create payment. Please try again.]
2026-02-05T16:02:22.467Z DEBUG 174664 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:02:22.474Z DEBUG 174664 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T16:02:22.478Z DEBUG 174664 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T16:02:22.576Z DEBUG 174664 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:02:22.583Z DEBUG 174664 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T16:02:22.586Z DEBUG 174664 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T16:02:45.252Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:02:45.259Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:02:45.349Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:02:45.502Z DEBUG 174664 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:02:45.508Z DEBUG 174664 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T16:02:45.511Z DEBUG 174664 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T16:02:45.598Z DEBUG 174664 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:02:45.605Z DEBUG 174664 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T16:02:45.609Z DEBUG 174664 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T16:03:47.076Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:03:47.081Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:03:47.171Z DEBUG 174664 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:03:47.441Z DEBUG 174664 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:03:47.450Z DEBUG 174664 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T16:03:47.455Z DEBUG 174664 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.user_id=? 
    limit
        ?, ?
2026-02-05T16:04:54.569Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:04:54.577Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.is_available=1 
        and (
            ? is null 
            or trim(BOTH from ?)='' 
            or lower(v1_0.make) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.model) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.location) like replace(concat('%', lower(?), '%'), '\\', '\\\\') 
            or lower(v1_0.type) like replace(concat('%', lower(?), '%'), '\\', '\\\\')
        ) 
    limit
        ?, ?
2026-02-05T16:04:54.584Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:04:54.589Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:04:54.590Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:04:54.591Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:04:54.593Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:04:54.595Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:04:54.597Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:04:54.600Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.vehicle_id,
        f1_0.feature 
    from
        vehicle_features f1_0 
    where
        f1_0.vehicle_id=?
2026-02-05T16:05:26.349Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:05:26.356Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2026-02-05T16:05:26.358Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.base_price,
        v1_0.created_at,
        v1_0.daily_price,
        v1_0.description,
        v1_0.engine_capacity,
        v1_0.fuel_type,
        v1_0.image_category,
        v1_0.image_name,
        v1_0.image_names,
        v1_0.is_available,
        v1_0.license_plate,
        v1_0.location,
        v1_0.luggage_capacity,
        v1_0.main_image_name,
        v1_0.make,
        v1_0.model,
        v1_0.rating,
        v1_0.registration_number,
        v1_0.review_count,
        v1_0.seats,
        v1_0.transmission,
        v1_0.type,
        v1_0.updated_at,
        v1_0.year 
    from
        vehicles v1_0 
    where
        v1_0.id=?
2026-02-05T16:05:26.361Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.vehicle_id=? 
        and b1_0.status!='CANCELLED' 
        and (
            (
                b1_0.start_date between ? and ?
            ) 
            or (
                b1_0.end_date between ? and ?
            ) 
            or (
                b1_0.start_date<=? 
                and b1_0.end_date>=?
            )
        )
2026-02-05T16:05:26.364Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(b1_0.id) 
    from
        bookings b1_0 
    where
        b1_0.start_date between ? and ?
2026-02-05T16:05:26.365Z  INFO 174664 --- [http-nio-8080-exec-8] c.d.o.a.pricing.DynamicPricingEngine     : Dynamic pricing calculation: Base=2000.00, Final=2207.999999999999800000, Multiplier=1.1039999999999999
2026-02-05T16:05:26.366Z DEBUG 174664 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        bookings
        (cancelled_at, confirmed_at, created_at, dropoff_location, end_date, pickup_location, start_date, status, total_price, user_id, vehicle_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05T16:05:26.370Z  INFO 174664 --- [http-nio-8080-exec-8] c.d.o.service.impl.BookingServiceImpl    : Booking created successfully: 8 for vehicle: 6, dates: 2026-02-05 to 2026-02-06
2026-02-05T16:05:27.454Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:05:27.460Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T16:05:27.461Z DEBUG 174664 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05T16:05:27.464Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T16:05:27.465Z  INFO 174664 --- [http-nio-8080-exec-7] c.d.o.s.impl.EsewaPaymentServiceImpl     : Creating new payment for booking 8
2026-02-05T16:05:27.466Z DEBUG 174664 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        payments
        (amount, booking_id, completed_at, created_at, payment_method, status, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05T16:05:27.468Z  INFO 174664 --- [http-nio-8080-exec-7] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment created successfully. ID: 13, UUID: 89e65e95-8658-4e5d-90ca-d60757240c4e
2026-02-05T16:05:27.469Z  INFO 174664 --- [http-nio-8080-exec-7] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment resolved for booking 8. UUID: 89e65e95-8658-4e5d-90ca-d60757240c4e
2026-02-05T16:05:27.475Z DEBUG 174664 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cancelled_at,
        b1_0.confirmed_at,
        b1_0.created_at,
        b1_0.dropoff_location,
        b1_0.end_date,
        b1_0.pickup_location,
        b1_0.start_date,
        b1_0.status,
        b1_0.total_price,
        b1_0.user_id,
        b1_0.vehicle_id 
    from
        bookings b1_0 
    where
        b1_0.id=?
2026-02-05T16:05:27.481Z DEBUG 174664 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.amount,
        p1_0.booking_id,
        p1_0.completed_at,
        p1_0.created_at,
        p1_0.payment_method,
        p1_0.status,
        p1_0.transaction_id 
    from
        payments p1_0 
    where
        p1_0.booking_id=?
2026-02-05T16:05:27.484Z  INFO 174664 --- [http-nio-8080-exec-1] c.d.o.s.impl.EsewaPaymentServiceImpl     : Updating existing payment 13 for booking 8
2026-02-05T16:05:27.487Z  INFO 174664 --- [http-nio-8080-exec-1] c.d.o.s.impl.EsewaPaymentServiceImpl     : Payment updated successfully. UUID: 89e65e95-8658-4e5d-90ca-d60757240c4e
